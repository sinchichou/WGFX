<!DOCTYPE html>
<html class="default" data-base="./" lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="IE=edge" http-equiv="x-ua-compatible"/>
    <title>WGFX API Documentation - v1.0.0</title>
    <meta content="Documentation for WGFX API Documentation" name="description"/>
    <meta content="width=device-width, initial-scale=1" name="viewport"/>
    <link href="assets/style.css" rel="stylesheet"/>
    <link href="assets/highlight.css" rel="stylesheet"/>
    <script defer src="assets/main.js"></script>
    <script async id="tsd-icons-script" src="assets/icons.js"></script>
    <script async id="tsd-search-script" src="assets/search.js"></script>
    <script async id="tsd-nav-script" src="assets/navigation.js"></script>
</head>
<body>
<script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";
document.body.style.display = "none";
setTimeout(() => window.app ? app.showPage() : document.body.style.removeProperty("display"), 500)</script>
<header class="tsd-page-toolbar">
    <div class="tsd-toolbar-contents container"><a class="title" href="index.html">WGFX API Documentation - v1.0.0</a>
        <div id="tsd-toolbar-links"></div>
        <button aria-label="Search" class="tsd-widget" id="tsd-search-trigger">
            <svg aria-hidden="true" fill="none" height="16" viewBox="0 0 16 16" width="16">
                <use href="assets/icons.svg#icon-search"></use>
            </svg>
        </button>
        <dialog aria-label="Search" id="tsd-search"><input aria-autocomplete="list" aria-controls="tsd-search-results"
                                                           aria-expanded="true" autocapitalize="off"
                                                           autocomplete="off" id="tsd-search-input" maxLength="100"
                                                           placeholder="Search the docs" role="combobox"/>
            <ul id="tsd-search-results" role="listbox"></ul>
            <div aria-atomic="true" aria-live="polite" id="tsd-search-status">
                <div>Preparing search index...</div>
            </div>
        </dialog>
        <a aria-label="Menu" class="tsd-widget menu" data-toggle="menu" href="#" id="tsd-toolbar-menu-trigger">
            <svg aria-hidden="true" fill="none" height="16" viewBox="0 0 16 16" width="16">
                <use href="assets/icons.svg#icon-menu"></use>
            </svg>
        </a></div>
</header>
<div class="container container-main">
    <div class="col-content">
        <div class="tsd-page-title"><h1>WGFX API Documentation - v1.0.0</h1></div>
        <div class="tsd-panel tsd-typography">
            <h3 class="tsd-anchor-link" id="中文版本-chinese-version"><a href="media/README_TW.md">中文版本 (Chinese
                Version)</a><a aria-label="Permalink" class="tsd-anchor-icon" href="#中文版本-chinese-version">
                <svg aria-hidden="true" viewBox="0 0 24 24">
                    <use href="assets/icons.svg#icon-anchor"></use>
                </svg>
            </a></h3>
            <h1 class="tsd-anchor-link" id="wgfx-project-complete-technical-specification-and-development-guide">WGFX
                Project: Complete Technical Specification and Development Guide<a
                        aria-label="Permalink"
                        class="tsd-anchor-icon" href="#wgfx-project-complete-technical-specification-and-development-guide">
                    <svg aria-hidden="true" viewBox="0 0 24 24">
                        <use href="assets/icons.svg#icon-anchor"></use>
                    </svg>
                </a></h1>
            <h2 class="tsd-anchor-link" id="development-status">Development Status<a aria-label="Permalink"
                                                                                     class="tsd-anchor-icon"
                                                                                     href="#development-status">
                <svg aria-hidden="true" viewBox="0 0 24 24">
                    <use href="assets/icons.svg#icon-anchor"></use>
                </svg>
            </a></h2>
            <p><strong>Status:</strong> <code>Testing</code></p>
            <p>All modules (including runtime and CLI tools) in this project have been implemented according to the
                technical
                specifications outlined in this document. Each file has been commented to clarify its functionality and
                responsibilities. The project is now fully functional and ready for use.</p>
            <p>This document aims to provide the complete architecture of the WGFX project, detailed specifications for
                the <code>.wgsl</code>
                effect file format, the Runtime execution flow, and core conversion guidelines for migrating from
                existing HLSL (Magpie)
                to WGSL.</p>
            <h2 class="tsd-anchor-link" id="1-project-architecture-and-file-responsibilities">1. Project Architecture
                and File Responsibilities<a aria-label="Permalink"
                                            class="tsd-anchor-icon" href="#1-project-architecture-and-file-responsibilities">
                    <svg aria-hidden="true" viewBox="0 0 24 24">
                        <use href="assets/icons.svg#icon-anchor"></use>
                    </svg>
                </a></h2>
            <p>The project follows the Single Responsibility Principle, ensuring modularity and maintainability. Below
                are the core
                files and their responsibilities:</p>
            <pre><code><span class="hl-0">WGFX</span><span class="hl-1">/</span><br/><span class="hl-1">├─ </span><span
                    class="hl-2">package</span><span class="hl-1">.</span><span class="hl-2">json</span><span
                    class="hl-1">              # </span><span class="hl-2">Node</span><span class="hl-1">.</span><span
                    class="hl-2">js</span><span class="hl-1"> </span><span class="hl-2">Project</span><span
                    class="hl-1"> </span><span class="hl-2">settings</span><span class="hl-1">, </span><span
                    class="hl-2">dependency</span><span class="hl-1"> </span><span
                    class="hl-2">management</span><br/><span class="hl-1">├─ </span><span
                    class="hl-3">package</span><span class="hl-1">-</span><span class="hl-2">lock</span><span
                    class="hl-1">.</span><span class="hl-2">json</span><span class="hl-1">         # </span><span
                    class="hl-2">Node</span><span class="hl-1">.</span><span class="hl-2">js</span><span
                    class="hl-1"> </span><span class="hl-2">dependency</span><span class="hl-1"> </span><span
                    class="hl-2">lock</span><span class="hl-1"> </span><span class="hl-2">file</span><br/><span
                    class="hl-1">├─ </span><span class="hl-0">README</span><span class="hl-1">.</span><span
                    class="hl-2">md</span><span class="hl-1">                 # </span><span class="hl-2">Project</span><span
                    class="hl-1"> </span><span class="hl-2">description</span><span class="hl-1">, </span><span
                    class="hl-2">usage</span><span class="hl-1"> </span><span class="hl-2">guide</span><br/><span
                    class="hl-1">├─ </span><span class="hl-2">src</span><span class="hl-1">/</span><br/><span
                    class="hl-1">│   ├─ </span><span class="hl-2">index</span><span class="hl-1">.</span><span
                    class="hl-2">ts</span><span class="hl-1">              # </span><span class="hl-2">Main</span><span
                    class="hl-1"> </span><span class="hl-2">project</span><span class="hl-1"> </span><span class="hl-4">interface</span><span
                    class="hl-1"> (</span><span class="hl-5">API</span><span class="hl-1"> </span><span class="hl-5">Entry</span><span
                    class="hl-1"> </span><span class="hl-5">Point</span><span class="hl-1">)</span><br/><span
                    class="hl-1">│   ├─ </span><span class="hl-5">WGFX</span><span class="hl-1">.</span><span
                    class="hl-5">ts</span><span class="hl-1">               # </span><span class="hl-5">High</span><span
                    class="hl-1">-</span><span class="hl-5">level</span><span class="hl-1"> </span><span class="hl-5">API</span><span
                    class="hl-1"> </span><span class="hl-5">class</span><br/><span class="hl-1">│   │</span><br/><span
                    class="hl-1">│   ├─ </span><span class="hl-5">runtime</span><span
                    class="hl-1">/              # </span><span class="hl-5">Runtime</span><span
                    class="hl-1"> </span><span class="hl-5">core</span><span class="hl-1"> </span><span class="hl-5">logic</span><br/><span
                    class="hl-1">│   │   ├─ </span><span class="hl-5">WGFXRuntime</span><span class="hl-1">.</span><span
                    class="hl-5">ts</span><span class="hl-1">    # </span><span class="hl-5">Runtime</span><span
                    class="hl-1"> </span><span class="hl-5">core</span><span class="hl-1"> </span><span class="hl-5">process</span><span
                    class="hl-1"> </span><span class="hl-5">controller</span><br/><span
                    class="hl-1">│   │   ├─ </span><span class="hl-5">ShaderParser</span><span
                    class="hl-1">.</span><span class="hl-5">js</span><span class="hl-1">   # </span><span class="hl-5">Generated</span><span
                    class="hl-1"> </span><span class="hl-5">shader</span><span class="hl-1"> </span><span class="hl-5">parser</span><br/><span
                    class="hl-1">│   │   ├─ </span><span class="hl-5">ResourceManager</span><span
                    class="hl-1">.</span><span class="hl-5">ts</span><span class="hl-1"> # </span><span
                    class="hl-5">GPU</span><span class="hl-1"> </span><span class="hl-5">resource</span><span
                    class="hl-1"> (</span><span class="hl-5">Texture</span><span class="hl-1">, </span><span
                    class="hl-5">Buffer</span><span class="hl-1">, </span><span class="hl-5">Sampler</span><span
                    class="hl-1">) </span><span class="hl-5">manager</span><br/><span
                    class="hl-1">│   │   ├─ </span><span class="hl-5">PipelineManager</span><span
                    class="hl-1">.</span><span class="hl-5">ts</span><span class="hl-1"> # </span><span class="hl-5">Render</span><span
                    class="hl-1">/</span><span class="hl-5">Compute</span><span class="hl-1"> </span><span class="hl-5">Pipeline</span><span
                    class="hl-1"> </span><span class="hl-5">and</span><span class="hl-1"> </span><span
                    class="hl-5">Bind</span><span class="hl-1"> </span><span class="hl-5">Group</span><span
                    class="hl-1"> </span><span class="hl-5">manager</span><br/><span
                    class="hl-1">│   │   ├─ </span><span class="hl-5">WGSLCodeGenerator</span><span
                    class="hl-1">.</span><span class="hl-5">ts</span><span class="hl-1"> # </span><span class="hl-5">Generates</span><span
                    class="hl-1"> </span><span class="hl-5">WGSL</span><span class="hl-1"> </span><span class="hl-5">Shader</span><span
                    class="hl-1"> </span><span class="hl-5">Code</span><span class="hl-1"> </span><span class="hl-5">from</span><span
                    class="hl-1"> </span><span class="hl-5">Intermediate</span><span class="hl-1"> </span><span
                    class="hl-5">Representation</span><span class="hl-1"> (</span><span class="hl-5">IR</span><span
                    class="hl-1">)</span><br/><span class="hl-1">│   │   └─ </span><span
                    class="hl-5">UniformBinder</span><span class="hl-1">.</span><span class="hl-5">ts</span><span
                    class="hl-1">    # </span><span class="hl-5">Provides</span><span class="hl-1"> </span><span
                    class="hl-5">interface</span><span class="hl-1"> </span><span class="hl-5">for</span><span
                    class="hl-1"> </span><span class="hl-5">updating</span><span class="hl-1"> </span><span
                    class="hl-5">Uniform</span><span class="hl-1"> </span><span class="hl-5">Buffer</span><br/><span
                    class="hl-1">│   │</span><br/><span class="hl-1">│   ├─ </span><span class="hl-5">types</span><span
                    class="hl-1">/                # </span><span class="hl-5">Type</span><span
                    class="hl-1"> </span><span class="hl-5">definitions</span><br/><span class="hl-1">│   │   └─ </span><span
                    class="hl-5">shader</span><span class="hl-1">.</span><span class="hl-5">ts</span><span class="hl-1">         # </span><span
                    class="hl-5">Shader</span><span class="hl-1">-</span><span class="hl-5">related</span><span
                    class="hl-1"> </span><span class="hl-5">interfaces</span><br/><span
                    class="hl-1">│   │</span><br/><span class="hl-1">│   └─ </span><span class="hl-5">utils</span><span
                    class="hl-1">/                # </span><span class="hl-5">Common</span><span
                    class="hl-1"> </span><span class="hl-5">utility</span><span class="hl-1"> </span><span class="hl-5">functions</span><br/><span
                    class="hl-1">│       └─ </span><span class="hl-5">Logger</span><span class="hl-1">.</span><span
                    class="hl-5">ts</span><span class="hl-1">         # </span><span class="hl-5">Unified</span><span
                    class="hl-1"> </span><span class="hl-5">logging</span><span class="hl-1"> </span><span class="hl-5">and</span><span
                    class="hl-1"> </span><span class="hl-5">debug</span><span class="hl-1"> </span><span class="hl-5">mode</span><span
                    class="hl-1"> </span><span class="hl-5">control</span><br/><span class="hl-1">│</span><br/><span
                    class="hl-1">├─ </span><span class="hl-5">test</span><span
                    class="hl-1">/                     # </span><span class="hl-5">Test</span><span
                    class="hl-1"> </span><span class="hl-5">files</span><br/><span class="hl-1">└─ </span><span
                    class="hl-5">examples</span><span class="hl-1">/                 # </span><span class="hl-5">Examples</span>
</code><button>Copy</button></pre>

            <h3 class="tsd-anchor-link" id="11-core-module-details">1.1. Core Module Details<a
                    aria-label="Permalink" class="tsd-anchor-icon" href="#11-core-module-details">
                <svg aria-hidden="true" viewBox="0 0 24 24">
                    <use href="assets/icons.svg#icon-anchor"></use>
                </svg>
            </a></h3>
            <ul>
                <li>
                    <p><strong><code>index.ts</code> (Runtime External Interface)</strong></p>
                    <ul>
                        <li><strong>Responsibility</strong>: Unified management and encapsulation of Runtime APIs,
                            serving as the sole entry point for
                            external calls.
                        </li>
                        <li><strong>Provided APIs</strong>:
                            <ul>
                                <li><code>compile()</code>: Compiles effect files.</li>
                                <li><code>dispatchPass()</code>: Executes a rendering pass.</li>
                                <li><code>updateUniform()</code>: Updates a Uniform parameter.</li>
                                <li><code>getOutput()</code>: Retrieves the final rendering result.</li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li>
                    <p><strong><code>WGFXRuntime.ts</code> (Runtime Core Process)</strong></p>
                    <ul>
                        <li><strong>Responsibility</strong>: Controls the entire lifecycle of the Runtime.</li>
                        <li><strong>Flow</strong>:
                            <ol>
                                <li>Calls <code>ShaderParser.js</code> to parse <code>.wgsl</code> files, generating
                                    Intermediate Representation (IR).
                                </li>
                                <li>Calls <code>ResourceManager.js</code> to initialize GPU resources (Texture, Sampler,
                                    Uniform Buffer) based on IR.
                                </li>
                                <li>Calls <code>PipelineManager.js</code> to create Compute/Render Pipeline and Bind
                                    Group.
                                </li>
                                <li>Sorts passes based on dependencies.</li>
                                <li>Manages Workgroup configuration and executes Passes (Dispatch).</li>
                            </ol>
                        </li>
                    </ul>
                </li>
                <li>
                    <p><strong><code>ShaderParser.js</code> (Core Parser)</strong></p>
                    <ul>
                        <li><strong>Responsibility</strong>: A core module shared by Runtime and CLI, responsible for
                            reading <code>.wgsl</code> files and converting
                            them into a structured Intermediate Representation (IR).
                        </li>
                        <li><strong>Parsing Content</strong>: <code>Header</code>, <code>Parameter</code>,
                            <code>Texture</code>, <code>Sampler</code>, <code>Common</code>, <code>Pass</code> blocks,
                            etc.
                        </li>
                        <li><strong>Information Collection</strong>: Collects function overloads, macro definitions
                            (<code>MP_*</code>, <code>MF</code>, <code>MULADD</code>).
                        </li>
                        <li><strong>Output (IR)</strong>:
                            <pre><code class="json"><span class="hl-1">{</span><br/><span class="hl-1">  </span><span
                                    class="hl-6">&quot;commonCode&quot;</span><span class="hl-1">: </span><span
                                    class="hl-7">&quot;...&quot;</span><span class="hl-1">,</span><br/><span
                                    class="hl-1">  </span><span class="hl-6">&quot;passes&quot;</span><span
                                    class="hl-1">: [</span><span class="hl-8">...</span><span
                                    class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;textures&quot;</span><span
                                    class="hl-1">: [</span><span class="hl-8">...</span><span
                                    class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;samplers&quot;</span><span
                                    class="hl-1">: [</span><span class="hl-8">...</span><span
                                    class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-6">&quot;parameters&quot;</span><span
                                    class="hl-1">: [</span><span class="hl-8">...</span><span class="hl-1">]</span><br/><span
                                    class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

                        </li>
                    </ul>
                </li>
                <li>
                    <p><strong><code>ResourceManager.ts</code> (GPU Resource Management)</strong></p>
                    <ul>
                        <li><strong>Responsibility</strong>: Handles all tasks related to GPU resource creation and
                            maintenance.
                        </li>
                        <li><strong>Functionality</strong>: Creates Texture, Sampler, Uniform Buffer, and maintains a
                            name mapping table (e.g.,
                            <code>&quot;MyTex&quot; -&gt; GPUTexture Object</code>).
                        </li>
                    </ul>
                </li>
                <li>
                    <p><strong><code>PipelineManager.ts</code> (Pipeline Management)</strong></p>
                    <ul>
                        <li><strong>Responsibility</strong>: Responsible for Pass dependency analysis, sorting, and
                            creating necessary GPU objects for
                            execution.
                        </li>
                        <li><strong>Functionality</strong>: Creates Pipeline Layout, Bind Group, Compute Pipeline, and
                            dispatches Shader execution.
                        </li>
                    </ul>
                </li>
                <li>
                    <p><strong><code>WGSLCodeGenerator.ts</code> (WGSL Code Generation)</strong></p>
                    <ul>
                        <li><strong>Responsibility</strong>: Converts the IR generated by <code>ShaderParser.js</code>
                            into valid WGSL Shader code.
                        </li>
                        <li><strong>Functionality</strong>: Inserts <code>Common</code> blocks, expands macros, handles
                            function overloads, and determines whether
                            parameters are <code>inline</code> or <code>uniform buffer</code> based on configuration.
                        </li>
                    </ul>
                </li>
                <li>
                    <p><strong><code>UniformBinder.ts</code> (Uniform Update)</strong></p>
                    <ul>
                        <li><strong>Responsibility</strong>: Provides the <code>updateUniform(name, value)</code>
                            interface for dynamically updating the content of
                            the Uniform Buffer.
                        </li>
                    </ul>
                </li>
                <li>
                    <p><strong><code>utils/Logger.ts</code> (Logging Utility)</strong></p>
                    <ul>
                        <li><strong>Responsibility</strong>: Unified logging system with levels (DEBUG, INFO, WARN,
                            ERROR).
                        </li>
                        <li><strong>Debug Mode</strong>: Toggle verbose logging via <code>WGFX.setDebug(true)</code>.
                        </li>
                    </ul>
                </li>
            </ul>
            <h2 class="tsd-anchor-link" id="2-wgfx-effect-file-format-specification-">2. WGFX Effect File Format
                Specification (<code>.wgsl</code>)<a aria-label="Permalink"
                                                     class="tsd-anchor-icon" href="#2-wgfx-effect-file-format-specification-">
                    <svg aria-hidden="true" viewBox="0 0 24 24">
                        <use href="assets/icons.svg#icon-anchor"></use>
                    </svg>
                </a></h2>
            <p>The <code>.wgsl</code> file consists of a series of directive blocks starting with <code>//!</code> and
                WGSL code snippets.</p>
            <h3 class="tsd-anchor-link" id="21-header-block">2.1. Header Block<a aria-label="Permalink"
                                                                                 class="tsd-anchor-icon"
                                                                                 href="#21-header-block">
                <svg aria-hidden="true" viewBox="0 0 24 24">
                    <use href="assets/icons.svg#icon-anchor"></use>
                </svg>
            </a></h3>
            <p>The header block defines the file's metadata and global settings.</p>
            <table>
                <thead>
                <tr>
                    <th style="text-align:left">Directive</th>
                    <th style="text-align:left">Required</th>
                    <th style="text-align:left">Description</th>
                    <th style="text-align:left">Example</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td style="text-align:left"><code>//! MAGPIE WebGPU EFFECT</code></td>
                    <td style="text-align:left"><strong>Yes</strong></td>
                    <td style="text-align:left">Magic string for the file, must be on the first line.</td>
                    <td style="text-align:left"><code>//! Magpie WebGPU EFFECT</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>//! VERSION &lt;number&gt;</code></td>
                    <td style="text-align:left"><strong>Yes</strong></td>
                    <td style="text-align:left">Effect format version, must match the parser's built-in version.</td>
                    <td style="text-align:left"><code>//! VERSION 4</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>//! SORT_NAME &lt;string&gt;</code></td>
                    <td style="text-align:left">Optional</td>
                    <td style="text-align:left">Name used for UI sorting.</td>
                    <td style="text-align:left"><code>//! SORT_NAME &quot;My Effect&quot;</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>//! USE &lt;flags&gt;</code></td>
                    <td style="text-align:left">Optional</td>
                    <td style="text-align:left">Enables specific features. Supports <code>MULADD</code>,
                        <code>_DYNAMIC</code> (case-insensitive).
                    </td>
                    <td style="text-align:left"><code>//! USE MULADD</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>//! CAPABILITY &lt;flags&gt;</code></td>
                    <td style="text-align:left">Optional</td>
                    <td style="text-align:left">Declares required hardware capabilities. Supports <code>FP16</code>
                        (case-insensitive).
                    </td>
                    <td style="text-align:left"><code>//! CAPABILITY FP16</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>#include &lt;...&gt;</code></td>
                    <td style="text-align:left">Allowed</td>
                    <td style="text-align:left">The parser identifies and skips <code>#include</code> directive lines.
                    </td>
                    <td style="text-align:left"><code>#include &quot;common_functions.h&quot;</code></td>
                </tr>
                </tbody>
            </table>
            <h3 class="tsd-anchor-link" id="22-parameter-block">2.2. Parameter Block<a aria-label="Permalink"
                                                                                       class="tsd-anchor-icon"
                                                                                       href="#22-parameter-block">
                <svg aria-hidden="true" viewBox="0 0 24 24">
                    <use href="assets/icons.svg#icon-anchor"></use>
                </svg>
            </a></h3>
            <p>Defines Uniform parameters that can be adjusted in the UI.</p>
            <table>
                <thead>
                <tr>
                    <th style="text-align:left">Directive</th>
                    <th style="text-align:left">Required</th>
                    <th style="text-align:left">Description</th>
                    <th style="text-align:left">Example</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td style="text-align:left"><code>//! PARAMETER &lt;name&gt;</code></td>
                    <td style="text-align:left"><strong>Optional</strong></td>
                    <td style="text-align:left">Declares the start of a parameter block and its identifier in the code.
                        If omitted, none of the following are required.
                    </td>
                    <td style="text-align:left"><code>//! PARAMETER Brightness</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>//! DEFAULT &lt;value&gt;</code></td>
                    <td style="text-align:left"><strong>Yes</strong></td>
                    <td style="text-align:left">Default value for the parameter.</td>
                    <td style="text-align:left"><code>//! DEFAULT 1.0</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>//! MIN &lt;value&gt;</code></td>
                    <td style="text-align:left"><strong>Yes</strong></td>
                    <td style="text-align:left">Minimum value for the parameter.</td>
                    <td style="text-align:left"><code>//! MIN 0.0</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>//! MAX &lt;value&gt;</code></td>
                    <td style="text-align:left"><strong>Yes</strong></td>
                    <td style="text-align:left">Maximum value for the parameter.</td>
                    <td style="text-align:left"><code>//! MAX 2.0</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>//! STEP &lt;value&gt;</code></td>
                    <td style="text-align:left"><strong>Yes</strong></td>
                    <td style="text-align:left">Step value for parameter adjustment in the UI.</td>
                    <td style="text-align:left"><code>//! STEP 0.01</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>//! LABEL &lt;string&gt;</code></td>
                    <td style="text-align:left">Optional</td>
                    <td style="text-align:left">Label name to display in the UI.</td>
                    <td style="text-align:left"><code>//! LABEL &quot;Brightness&quot;</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>type name;</code></td>
                    <td style="text-align:left"><strong>Yes</strong></td>
                    <td style="text-align:left">The end of the block must be an HLSL-format variable declaration. Type
                        only supports <code>float</code> or <code>int</code>.
                    </td>
                    <td style="text-align:left"><code>float Brightness;</code></td>
                </tr>
                </tbody>
            </table>
            <ul>
                <li><strong>Validation Rules</strong>:
                    <ul>
                        <li>All four directives <code>DEFAULT</code>, <code>MIN</code>, <code>MAX</code>,
                            <code>STEP</code> must be present.
                        </li>
                        <li>Values must satisfy <code>MIN &lt;= DEFAULT &lt;= MAX</code>.</li>
                    </ul>
                </li>
            </ul>
            <h3 class="tsd-anchor-link" id="23-texture-block">2.3. Texture Block<a aria-label="Permalink"
                                                                                   class="tsd-anchor-icon"
                                                                                   href="#23-texture-block">
                <svg aria-hidden="true" viewBox="0 0 24 24">
                    <use href="assets/icons.svg#icon-anchor"></use>
                </svg>
            </a></h3>
            <p>Defines texture resources used in the effect.</p>
            <table>
                <thead>
                <tr>
                    <th style="text-align:left">Directive</th>
                    <th style="text-align:left">Required</th>
                    <th style="text-align:left">Description</th>
                    <th style="text-align:left">Example</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td style="text-align:left"><code>//! TEXTURE &lt;name&gt;</code></td>
                    <td style="text-align:left"><strong>Yes</strong></td>
                    <td style="text-align:left">Declares the start of a texture block and its identifier.</td>
                    <td style="text-align:left"><code>//! TEXTURE MyTex</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>//! SOURCE &lt;string&gt;</code></td>
                    <td style="text-align:left">Optional</td>
                    <td style="text-align:left">Specifies the texture source from a file. If specified, no other options
                        are allowed.
                    </td>
                    <td style="text-align:left"><code>//! SOURCE &quot;noise.png&quot;</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>//! FORMAT &lt;format&gt;</code></td>
                    <td style="text-align:left">Mostly Yes</td>
                    <td style="text-align:left">Texture format. Format name must match a predefined list.</td>
                    <td style="text-align:left"><code>//! FORMAT R8G8B8A8_UNORM</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>//! WIDTH &lt;expr&gt;</code></td>
                    <td style="text-align:left">Optional</td>
                    <td style="text-align:left">Texture width, can be a number or expression (e.g.,
                        <code>INPUT_WIDTH</code>).
                    </td>
                    <td style="text-align:left"><code>//! WIDTH 1920</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>//! HEIGHT &lt;expr&gt;</code></td>
                    <td style="text-align:left">Optional</td>
                    <td style="text-align:left">Texture height. <code>WIDTH</code> and <code>HEIGHT</code> must appear
                        in pairs.
                    </td>
                    <td style="text-align:left"><code>//! HEIGHT INPUT_HEIGHT</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>Texture2D name;</code></td>
                    <td style="text-align:left"><strong>Yes</strong></td>
                    <td style="text-align:left">The end of the block must be an HLSL-format texture declaration.</td>
                    <td style="text-align:left"><code>Texture2D MyTex;</code></td>
                </tr>
                </tbody>
            </table>
            <ul>
                <li><strong>Special Built-in Textures</strong>:
                    <ul>
                        <li><code>INPUT</code>: Default input texture (index 0).</li>
                        <li><code>OUTPUT</code>: Default output texture (index 1).</li>
                        <li>The parser handles these two names specially.</li>
                    </ul>
                </li>
            </ul>
            <h3 class="tsd-anchor-link" id="24-sampler-block">2.4. Sampler Block<a aria-label="Permalink"
                                                                                   class="tsd-anchor-icon"
                                                                                   href="#24-sampler-block">
                <svg aria-hidden="true" viewBox="0 0 24 24">
                    <use href="assets/icons.svg#icon-anchor"></use>
                </svg>
            </a></h3>
            <p>Defines the behavior of texture sampling.</p>
            <table>
                <thead>
                <tr>
                    <th style="text-align:left">Directive</th>
                    <th style="text-align:left">Required</th>
                    <th style="text-align:left">Description</th>
                    <th style="text-align:left">Example</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td style="text-align:left"><code>//! SAMPLER &lt;name&gt;</code></td>
                    <td style="text-align:left"><strong>Yes</strong></td>
                    <td style="text-align:left">Declares the start of a sampler block and its identifier.</td>
                    <td style="text-align:left"><code>//! SAMPLER MySampler</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>//! FILTER &lt;mode&gt;</code></td>
                    <td style="text-align:left"><strong>Yes</strong></td>
                    <td style="text-align:left">Filter mode. Supports <code>LINEAR</code> or <code>POINT</code>.</td>
                    <td style="text-align:left"><code>//! FILTER LINEAR</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>//! ADDRESS &lt;mode&gt;</code></td>
                    <td style="text-align:left">Optional</td>
                    <td style="text-align:left">Addressing mode. Supports <code>CLAMP</code> or <code>WRAP</code>.</td>
                    <td style="text-align:left"><code>//! ADDRESS CLAMP</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>SamplerState name;</code></td>
                    <td style="text-align:left"><strong>Yes</strong></td>
                    <td style="text-align:left">The end of the block must be an HLSL-format sampler declaration.</td>
                    <td style="text-align:left"><code>SamplerState MySampler;</code></td>
                </tr>
                </tbody>
            </table>
            <h3 class="tsd-anchor-link" id="25-common-code-block">2.5. Common Code Block<a aria-label="Permalink"
                                                                                           class="tsd-anchor-icon"
                                                                                           href="#25-common-code-block">
                <svg aria-hidden="true" viewBox="0 0 24 24">
                    <use href="assets/icons.svg#icon-anchor"></use>
                </svg>
            </a></h3>
            <p>Code within the <code>//! COMMON</code> block will be inserted before the Shader of each
                <code>PASS</code>, used to define common functions,
                structures, or constants.</p>
            <pre><code class="hlsl"><span class="hl-9">//! COMMON</span><br/><span class="hl-4">float</span><span
                    class="hl-1"> PI = </span><span class="hl-10">3.1415926535</span><span
                    class="hl-1">;</span><br/><br/><span class="hl-4">float3</span><span class="hl-1"> </span><span
                    class="hl-11">grayscale</span><span class="hl-1">(</span><span class="hl-4">float3</span><span
                    class="hl-1"> color) {</span><br/><span class="hl-1">    </span><span class="hl-4">float</span><span
                    class="hl-1"> luminance = </span><span class="hl-11">dot</span><span
                    class="hl-1">(color, </span><span class="hl-4">float3</span><span class="hl-1">(</span><span
                    class="hl-10">0.299</span><span class="hl-1">, </span><span class="hl-10">0.587</span><span
                    class="hl-1">, </span><span class="hl-10">0.114</span><span class="hl-1">));</span><br/><span
                    class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span
                    class="hl-4">float3</span><span class="hl-1">(luminance, luminance, luminance);</span><br/><span
                    class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

            <h3 class="tsd-anchor-link" id="26-pass-block">2.6. Pass Block<a aria-label="Permalink"
                                                                             class="tsd-anchor-icon"
                                                                             href="#26-pass-block">
                <svg aria-hidden="true" viewBox="0 0 24 24">
                    <use href="assets/icons.svg#icon-anchor"></use>
                </svg>
            </a></h3>
            <p>Defines a single rendering/computation operation. An effect file can contain multiple Passes.</p>
            <table>
                <thead>
                <tr>
                    <th style="text-align:left">Directive</th>
                    <th style="text-align:left">Required</th>
                    <th style="text-align:left">Description</th>
                    <th style="text-align:left">Example</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td style="text-align:left"><code>//! PASS &lt;index&gt;</code></td>
                    <td style="text-align:left"><strong>Yes</strong></td>
                    <td style="text-align:left">Declares a Pass and its index. Indices must start from <code>1</code>
                        and be consecutive.
                    </td>
                    <td style="text-align:left"><code>//! PASS 1</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>//! IN &lt;tex-list&gt;</code></td>
                    <td style="text-align:left"><strong>Yes</strong></td>
                    <td style="text-align:left">Specifies the input texture list for this Pass, separated by commas.
                    </td>
                    <td style="text-align:left"><code>//! IN INPUT, MyTex</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>//! OUT &lt;tex-list&gt;</code></td>
                    <td style="text-align:left"><strong>Yes</strong></td>
                    <td style="text-align:left">Specifies the output texture list for this Pass, separated by commas.
                    </td>
                    <td style="text-align:left"><code>//! OUT TempTex</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>//! BLOCK_SIZE &lt;w,h&gt;</code></td>
                    <td style="text-align:left"><code>CS</code> Yes</td>
                    <td style="text-align:left"><strong>Compute Shader</strong> specific, defines block size.</td>
                    <td style="text-align:left"><code>//! BLOCK_SIZE 16,16</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>//! NUM_THREADS &lt;x,y,z&gt;</code></td>
                    <td style="text-align:left"><code>CS</code> Yes</td>
                    <td style="text-align:left"><strong>Compute Shader</strong> specific, defines the number of threads
                        per workgroup.
                    </td>
                    <td style="text-align:left"><code>//! NUM_THREADS 8,8,1</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>//! STYLE &lt;PS|CS&gt;</code></td>
                    <td style="text-align:left">Optional</td>
                    <td style="text-align:left">Specifies the Pass type as Pixel Shader (<code>PS</code>) or Compute
                        Shader (<code>CS</code>). Defaults to <code>CS</code>.
                    </td>
                    <td style="text-align:left"><code>//! STYLE CS</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>//! DESC &lt;string&gt;</code></td>
                    <td style="text-align:left">Optional</td>
                    <td style="text-align:left">Description text for the Pass, usable for debugging or UI display.</td>
                    <td style="text-align:left"><code>//! DESC &quot;First Gaussian Blur Pass&quot;</code></td>
                </tr>
                </tbody>
            </table>
            <ul>
                <li><strong>Validation Rules</strong>:
                    <ul>
                        <li><code>IN</code> and <code>OUT</code> are required directives for each Pass.</li>
                        <li>If <code>STYLE</code> is <code>CS</code> (or unspecified), then <code>BLOCK_SIZE</code> and
                            <code>NUM_THREADS</code> must be provided.
                        </li>
                        <li>The <code>OUT</code> of the last Pass must be <code>OUTPUT</code>.</li>
                        <li>The <code>OUT</code> of intermediate Passes cannot be <code>INPUT</code> or
                            <code>OUTPUT</code>.
                        </li>
                    </ul>
                </li>
            </ul>
            <h3 class="tsd-anchor-link" id="27-built-in-global-variables">2.7. Built-in Global Variables<a
                    aria-label="Permalink" class="tsd-anchor-icon" href="#27-built-in-global-variables">
                <svg aria-hidden="true" viewBox="0 0 24 24">
                    <use href="assets/icons.svg#icon-anchor"></use>
                </svg>
            </a></h3>
            <p>To support dynamic resolution, the Runtime provides a built-in global Uniform struct
                <code>SceneInfo</code> available in all Passes.</p>
            <pre><code class="wgsl"><span class="hl-4">struct</span><span class="hl-1"> </span><span class="hl-5">SceneInfo</span><span
                    class="hl-1"> {</span><br/><span class="hl-1">    inputSize: </span><span
                    class="hl-2">uint2</span><span class="hl-1">,</span><span class="hl-9">  // Dimensions of the input source (e.g., 1920, 1080)</span><br/><span
                    class="hl-1">    inputPt: </span><span class="hl-5">MF2</span><span class="hl-1">,</span><span
                    class="hl-9">      // Inverse of input dimensions (1.0/width, 1.0/height)</span><br/><span
                    class="hl-1">    outputSize: </span><span class="hl-2">uint2</span><span class="hl-1">,</span><span
                    class="hl-9"> // Dimensions of the output target</span><br/><span class="hl-1">    outputPt: </span><span
                    class="hl-5">MF2</span><span class="hl-1">,</span><span class="hl-9">     // Inverse of output dimensions</span><br/><span
                    class="hl-1">    </span><span class="hl-2">scale</span><span class="hl-1">: </span><span
                    class="hl-5">MF2</span><span class="hl-1">,</span><span class="hl-9">        // Scaling ratio (outputSize / inputSize)</span><br/><span
                    class="hl-1">}</span><br/><span class="hl-1">@group(</span><span class="hl-10">0</span><span
                    class="hl-1">) @binding(</span><span class="hl-10">4</span><span class="hl-1">) </span><span
                    class="hl-4">var</span><span class="hl-1">&lt;</span><span class="hl-3">uniform</span><span
                    class="hl-1">&gt; </span><span class="hl-2">scene</span><span class="hl-1">: </span><span
                    class="hl-5">SceneInfo</span><span class="hl-1">;</span>
</code><button type="button">Copy</button></pre>

            <ul>
                <li><strong>Usage</strong>: Access directly via <code>scene.inputSize</code> or
                    <code>scene.inputPt</code>.
                </li>
            </ul>
            <h2 class="tsd-anchor-link" id="3-runtime-execution-flow">3. Runtime Execution Flow<a
                    aria-label="Permalink" class="tsd-anchor-icon" href="#3-runtime-execution-flow">
                <svg aria-hidden="true" viewBox="0 0 24 24">
                    <use href="assets/icons.svg#icon-anchor"></use>
                </svg>
            </a></h2>
            <p>The complete flow from loading a <code>.wgsl</code> file to final rendering output is as follows:</p>
            <ol>
                <li>
                    <p><strong>Parse and Generate IR</strong>:</p>
                    <ul>
                        <li><code>WGFXRuntime</code> calls <code>Parser.js</code> to read the <code>.wgsl</code> file.
                        </li>
                        <li><code>Parser.js</code> parses blocks such as <code>Header</code>, <code>Parameter</code>,
                            <code>Texture</code>, <code>Sampler</code>, <code>Common</code>, <code>Pass</code> one by
                            one.
                        </li>
                        <li>Generates a structured Intermediate Representation (IR), containing all parsed metadata and
                            code snippets.
                        </li>
                    </ul>
                </li>
                <li>
                    <p><strong>GPU Resource Creation</strong>:</p>
                    <ul>
                        <li><code>ResourceManager.js</code> creates corresponding <code>GPUTexture</code>, <code>GPUSampler</code>,
                            <code>GPUBuffer</code> (for uniforms) based on the
                            <code>textures</code>, <code>samplers</code>, <code>parameters</code> lists in the IR.
                        </li>
                        <li>Establishes a mapping table from resource names to GPU objects for subsequent use.</li>
                    </ul>
                </li>
                <li>
                    <p><strong>Pipeline Creation</strong>:</p>
                    <ul>
                        <li><code>PipelineManager.js</code> iterates through the <code>passes</code> list in the IR.
                        </li>
                        <li>For each Pass, <code>WGSLCodeGenerator.js</code> combines its HLSL snippet with <code>commonCode</code>
                            and converts it into complete
                            WGSL Compute Shader code.
                        </li>
                        <li><code>PipelineManager.js</code> derives <code>GPUBindGroupLayout</code> based on the <code>IN</code>
                            and <code>OUT</code> resources of the Pass.
                        </li>
                        <li>Creates <code>GPUComputePipeline</code> using the generated WGSL Shader and Layout.</li>
                    </ul>
                </li>
                <li>
                    <p><strong>Execution and Rendering</strong>:</p>
                    <ul>
                        <li>When <code>dispatchPass(index)</code> is called externally:</li>
                        <li><code>PipelineManager.js</code> obtains the corresponding GPU objects from <code>ResourceManager</code>
                            based on the resources required
                            by the Pass and creates <code>GPUBindGroup</code>.
                        </li>
                        <li><code>WGFXRuntime</code> issues GPU commands such as <code>setPipeline</code>, <code>setBindGroup</code>,
                            <code>dispatchWorkgroups</code>.
                        </li>
                        <li>The GPU executes the Compute Shader, writing the computation results to the texture
                            specified by <code>OUT</code>.
                        </li>
                    </ul>
                </li>
                <li>
                    <p><strong>Dynamic Update</strong>:</p>
                    <ul>
                        <li>When <code>updateUniform(name, value)</code> is called externally:</li>
                        <li><code>UniformBinder.js</code> writes new values to the corresponding <code>GPUBuffer</code>,
                            achieving dynamic updates of parameters.
                        </li>
                    </ul>
                </li>
            </ol>
            <h2 class="tsd-anchor-link" id="4-hlslmagpie-to-wgslwebgpu-conversion-guide">4. HLSL/Magpie to WGSL/WebGPU
                Conversion Guide<a aria-label="Permalink" class="tsd-anchor-icon"
                                   href="#4-hlslmagpie-to-wgslwebgpu-conversion-guide">
                    <svg aria-hidden="true" viewBox="0 0 24 24">
                        <use href="assets/icons.svg#icon-anchor"></use>
                    </svg>
                </a></h2>
            <h3 class="tsd-anchor-link" id="41-resource-type-mapping">4.1. Resource Type Mapping<a
                    aria-label="Permalink" class="tsd-anchor-icon" href="#41-resource-type-mapping">
                <svg aria-hidden="true" viewBox="0 0 24 24">
                    <use href="assets/icons.svg#icon-anchor"></use>
                </svg>
            </a></h3>
            <table>
                <thead>
                <tr>
                    <th style="text-align:left">HLSL / Magpie</th>
                    <th style="text-align:left">WGSL / WebGPU</th>
                    <th style="text-align:left">Description</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td style="text-align:left"><code>Texture2D&lt;T&gt;</code> (SRV)</td>
                    <td style="text-align:left"><code>var tex: texture_2d&lt;f32&gt;;</code></td>
                    <td style="text-align:left">Texture for reading, bound separately from Sampler in WGSL.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>RWTexture2D&lt;T&gt;</code> (UAV)</td>
                    <td style="text-align:left"><code>var tex: texture_storage_2d&lt;fmt, write&gt;;</code></td>
                    <td style="text-align:left">Storage Texture for writing.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>SamplerState</code></td>
                    <td style="text-align:left"><code>var smp: sampler;</code></td>
                    <td style="text-align:left">Sampler.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>cbuffer</code> / <code>uniform</code></td>
                    <td style="text-align:left"><code>var&lt;uniform&gt; uniforms: MyUniforms;</code></td>
                    <td style="text-align:left">Uniform constant buffer.</td>
                </tr>
                </tbody>
            </table>
            <h3 class="tsd-anchor-link" id="42-threads-and-workgroups">4.2. Threads and Workgroups<a
                    aria-label="Permalink" class="tsd-anchor-icon" href="#42-threads-and-workgroups">
                <svg aria-hidden="true" viewBox="0 0 24 24">
                    <use href="assets/icons.svg#icon-anchor"></use>
                </svg>
            </a></h3>
            <table>
                <thead>
                <tr>
                    <th style="text-align:left">HLSL / Magpie</th>
                    <th style="text-align:left">WGSL / WebGPU</th>
                    <th style="text-align:left">Description</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td style="text-align:left"><code>[numthreads(x, y, z)]</code></td>
                    <td style="text-align:left"><code>@workgroup_size(x, y, z)</code></td>
                    <td style="text-align:left">Attribute on Compute Shader entry function, defines workgroup size.</td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>Dispatch(X, Y, Z)</code></td>
                    <td style="text-align:left"><code>dispatchWorkgroups(X, Y, Z)</code></td>
                    <td style="text-align:left">Number of workgroup grids to dispatch.</td>
                </tr>
                </tbody>
            </table>
            <h3 class="tsd-anchor-link" id="43-built-in-macros-and-functions">4.3. Built-in Macros and Functions<a
                    aria-label="Permalink" class="tsd-anchor-icon" href="#43-built-in-macros-and-functions">
                <svg aria-hidden="true" viewBox="0 0 24 24">
                    <use href="assets/icons.svg#icon-anchor"></use>
                </svg>
            </a></h3>
            <ul>
                <li><strong><code>MF</code> Macro</strong>: Needs to be converted to <code>f32</code> or
                    <code>f16</code> in WGSL based on the <code>FP16</code> flag in <code>CAPABILITY</code>.
                </li>
                <li><strong><code>MULADD</code></strong>: If <code>USE MULADD</code> is enabled, the corresponding HLSL
                    function implementation needs to be converted to a
                    WGSL function, or <code>a * b + c</code> can be used directly.
                </li>
                <li><strong><code>MP_*</code> Macros</strong>: Such as <code>MP_BLOCK_WIDTH</code>, etc., need to be
                    replaced directly with constant values when generating
                    WGSL code, based on the values of directives like <code>//! BLOCK_SIZE</code>.
                </li>
            </ul>
            <h3 class="tsd-anchor-link" id="44-binding-model">4.4. Binding Model<a aria-label="Permalink"
                                                                                   class="tsd-anchor-icon"
                                                                                   href="#44-binding-model">
                <svg aria-hidden="true" viewBox="0 0 24 24">
                    <use href="assets/icons.svg#icon-anchor"></use>
                </svg>
            </a></h3>
            <p>WebGPU uses the Bind Group model, replacing HLSL's <code>register(t0, u0, s0)</code>.</p>
            <ul>
                <li><strong>Strategy</strong>: The parser must allocate a unique set of <code>@group(N)
                    @binding(M)</code> indices for all resources (<code>IN</code>, <code>OUT</code>,
                    <code>Samplers</code>, <code>Uniforms</code>) of each Pass and write them when generating WGSL.
                </li>
                <li><strong>Example Binding</strong>:</li>
            </ul>
            <table>
                <thead>
                <tr>
                    <th style="text-align:left">Resource</th>
                    <th style="text-align:left">WGSL Binding</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td style="text-align:left"><code>sam</code> (Sampler)</td>
                    <td style="text-align:left"><code>@group(0) @binding(0)</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>uniforms</code></td>
                    <td style="text-align:left"><code>@group(0) @binding(1)</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>scene</code></td>
                    <td style="text-align:left"><code>@group(0) @binding(4)</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>TexN</code></td>
                    <td style="text-align:left"><code>@group(0) @binding(6+)</code></td>
                </tr>
                </tbody>
            </table>
            <h3 class="tsd-anchor-link" id="45-basic-type-and-function-mapping">4.5. Basic Type and Function Mapping<a
                    aria-label="Permalink" class="tsd-anchor-icon" href="#45-basic-type-and-function-mapping">
                <svg aria-hidden="true" viewBox="0 0 24 24">
                    <use href="assets/icons.svg#icon-anchor"></use>
                </svg>
            </a></h3>
            <table>
                <thead>
                <tr>
                    <th style="text-align:left">HLSL</th>
                    <th style="text-align:left">WGSL</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td style="text-align:left"><code>float</code>, <code>float1</code></td>
                    <td style="text-align:left"><code>f32</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>float2</code></td>
                    <td style="text-align:left"><code>vec2&lt;f32&gt;</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>float3</code></td>
                    <td style="text-align:left"><code>vec3&lt;f32&gt;</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>float4</code></td>
                    <td style="text-align:left"><code>vec4&lt;f32&gt;</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>float2x2</code></td>
                    <td style="text-align:left"><code>mat2x2&lt;f32&gt;</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>float3x3</code></td>
                    <td style="text-align:left"><code>mat3x3&lt;f32&gt;</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>float4x4</code></td>
                    <td style="text-align:left"><code>mat4x4&lt;f32&gt;</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>int</code>, <code>int1</code></td>
                    <td style="text-align:left"><code>i32</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>int2</code></td>
                    <td style="text-align:left"><code>vec2&lt;i32&gt;</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>uint</code></td>
                    <td style="text-align:left"><code>u32</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>mul(matrix, vector)</code></td>
                    <td style="text-align:left"><code>matrix * vector</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>lerp(a, b, x)</code></td>
                    <td style="text-align:left"><code>mix(a, b, x)</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>saturate(x)</code></td>
                    <td style="text-align:left"><code>clamp(x, 0.0, 1.0)</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>frac(x)</code></td>
                    <td style="text-align:left"><code>fract(x)</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>ddx(v)</code></td>
                    <td style="text-align:left"><code>dpdx(v)</code></td>
                </tr>
                <tr>
                    <td style="text-align:left"><code>ddy(v)</code></td>
                    <td style="text-align:left"><code>dpdy(v)</code></td>
                </tr>
                </tbody>
            </table>
            <hr>
        </div>
    </div>
    <div class="col-sidebar">
        <div class="page-menu">
            <div class="tsd-navigation settings">
                <details class="tsd-accordion">
                    <summary class="tsd-accordion-summary">
                        <svg aria-hidden="true" fill="none" height="20" viewBox="0 0 24 24" width="20">
                            <use href="assets/icons.svg#icon-chevronDown"></use>
                        </svg>
                        <h3>Settings</h3></summary>
                    <div class="tsd-accordion-details">
                        <div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span>
                            <ul id="tsd-filter-options">
                                <li class="tsd-filter-item"><label class="tsd-filter-input"><input id="tsd-filter-protected"
                                                                                                   name="protected"
                                                                                                   type="checkbox"/>
                                    <svg aria-hidden="true" height="32" viewBox="0 0 32 32" width="32">
                                        <rect class="tsd-checkbox-background" fill="none" height="30" rx="6" width="30" x="1"
                                              y="1"></rect>
                                        <path class="tsd-checkbox-checkmark"
                                              d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" fill="none"
                                              stroke="none" stroke-linejoin="round" stroke-width="3.5"></path>
                                    </svg>
                                    <span>Protected</span></label></li>
                                <li class="tsd-filter-item"><label class="tsd-filter-input"><input checked
                                                                                                   id="tsd-filter-inherited"
                                                                                                   name="inherited"
                                                                                                   type="checkbox"/>
                                    <svg aria-hidden="true" height="32" viewBox="0 0 32 32" width="32">
                                        <rect class="tsd-checkbox-background" fill="none" height="30" rx="6" width="30" x="1"
                                              y="1"></rect>
                                        <path class="tsd-checkbox-checkmark"
                                              d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" fill="none"
                                              stroke="none" stroke-linejoin="round" stroke-width="3.5"></path>
                                    </svg>
                                    <span>Inherited</span></label></li>
                                <li class="tsd-filter-item"><label class="tsd-filter-input"><input id="tsd-filter-external"
                                                                                                   name="external"
                                                                                                   type="checkbox"/>
                                    <svg aria-hidden="true" height="32" viewBox="0 0 32 32" width="32">
                                        <rect class="tsd-checkbox-background" fill="none" height="30" rx="6" width="30" x="1"
                                              y="1"></rect>
                                        <path class="tsd-checkbox-checkmark"
                                              d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" fill="none"
                                              stroke="none" stroke-linejoin="round" stroke-width="3.5"></path>
                                    </svg>
                                    <span>External</span></label></li>
                            </ul>
                        </div>
                        <div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select
                                id="tsd-theme">
                            <option value="os">OS</option>
                            <option value="light">Light</option>
                            <option value="dark">Dark</option>
                        </select></div>
                    </div>
                </details>
            </div>
            <details class="tsd-accordion tsd-page-navigation" open>
                <summary class="tsd-accordion-summary">
                    <svg aria-hidden="true" fill="none" height="20" viewBox="0 0 24 24" width="20">
                        <use href="assets/icons.svg#icon-chevronDown"></use>
                    </svg>
                    <h3>On This Page</h3></summary>
                <div class="tsd-accordion-details">
                    <ul>
                        <li>
                            <ul>
                                <li><a href="#中文版本-chinese-version"><span>中文版本 (<wbr/>Chinese <wbr/>Version)</span></a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                    <a href="#wgfx-project-complete-technical-specification-and-development-guide"><span>WGFX <wbr/>Project: <wbr/>Complete <wbr/>Technical <wbr/>Specification and <wbr/>Development <wbr/>Guide</span></a>
                    <ul>
                        <li><a href="#development-status"><span>Development <wbr/>Status</span></a></li>
                        <li><a href="#1-project-architecture-and-file-responsibilities"><span>1. <wbr/>Project <wbr/>Architecture and <wbr/>File <wbr/>Responsibilities</span></a>
                        </li>
                        <li>
                            <ul>
                                <li><a href="#11-core-module-details"><span>1.1. <wbr/>Core <wbr/>Module <wbr/>Details</span></a>
                                </li>
                            </ul>
                        </li>
                        <li><a href="#2-wgfx-effect-file-format-specification-"><span>2. <wbr/>WGFX <wbr/>Effect <wbr/>File <wbr/>Format <wbr/>Specification ()</span></a>
                        </li>
                        <li>
                            <ul>
                                <li><a href="#21-header-block"><span>2.1. <wbr/>Header <wbr/>Block</span></a></li>
                                <li><a href="#22-parameter-block"><span>2.2. <wbr/>Parameter <wbr/>Block</span></a></li>
                                <li><a href="#23-texture-block"><span>2.3. <wbr/>Texture <wbr/>Block</span></a></li>
                                <li><a href="#24-sampler-block"><span>2.4. <wbr/>Sampler <wbr/>Block</span></a></li>
                                <li><a href="#25-common-code-block"><span>2.5. <wbr/>Common <wbr/>Code <wbr/>Block</span></a>
                                </li>
                                <li><a href="#26-pass-block"><span>2.6. <wbr/>Pass <wbr/>Block</span></a></li>
                                <li><a href="#27-built-in-global-variables"><span>2.7. <wbr/>Built-<wbr/>in <wbr/>Global <wbr/>Variables</span></a>
                                </li>
                            </ul>
                        </li>
                        <li><a href="#3-runtime-execution-flow"><span>3. <wbr/>Runtime <wbr/>Execution <wbr/>Flow</span></a>
                        </li>
                        <li><a href="#4-hlslmagpie-to-wgslwebgpu-conversion-guide"><span>4. <wbr/>HLSL/<wbr/>Magpie to <wbr/>WGSL/<wbr/>Web<wbr/>GPU <wbr/>Conversion <wbr/>Guide</span></a>
                        </li>
                        <li>
                            <ul>
                                <li><a href="#41-resource-type-mapping"><span>4.1. <wbr/>Resource <wbr/>Type <wbr/>Mapping</span></a>
                                </li>
                                <li><a href="#42-threads-and-workgroups"><span>4.2. <wbr/>Threads and <wbr/>Workgroups</span></a>
                                </li>
                                <li><a href="#43-built-in-macros-and-functions"><span>4.3. <wbr/>Built-<wbr/>in <wbr/>Macros and <wbr/>Functions</span></a>
                                </li>
                                <li><a href="#44-binding-model"><span>4.4. <wbr/>Binding <wbr/>Model</span></a></li>
                                <li><a href="#45-basic-type-and-function-mapping"><span>4.5. <wbr/>Basic <wbr/>Type and <wbr/>Function <wbr/>Mapping</span></a>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </details>
        </div>
        <div class="site-menu">
            <nav class="tsd-navigation"><a href="modules.html">WGFX API Documentation - v1.0.0</a>
                <ul class="tsd-small-nested-navigation" id="tsd-nav-container">
                    <li>Loading...</li>
                </ul>
            </nav>
        </div>
    </div>
</div>
<footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer>
<div class="overlay"></div>
</body>
</html>
